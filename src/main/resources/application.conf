sink {
  # Sink type: "console", "jsonlines", "duckdb", or "http"
  # Can be overridden with RUUVI_SINK_TYPE env variable
  sink-type = "console"
  sink-type = ${?RUUVI_SINK_TYPE}

  json-lines {
    # Path to the output file for JSON Lines sink
    # Can be overridden with RUUVI_JSONLINES_PATH env variable
    path = "data/telemetry.jsonl"
    path = ${?RUUVI_JSONLINES_PATH}

    # Enable debug logging (logs each telemetry to debug level)
    # Can be overridden with RUUVI_JSONLINES_DEBUG_LOGGING env variable
    debug-logging = true
    debug-logging = ${?RUUVI_JSONLINES_DEBUG_LOGGING}
  }

  duckdb {
    # Path to the DuckDB database file (use ":memory:" for in-memory database)
    # Can be overridden with RUUVI_DUCKDB_PATH env variable
    path = "data/telemetry.db"
    path = ${?RUUVI_DUCKDB_PATH}

    # Table name for storing telemetry data
    # Can be overridden with RUUVI_DUCKDB_TABLE_NAME env variable
    table-name = "telemetry"
    table-name = ${?RUUVI_DUCKDB_TABLE_NAME}

    # Enable debug logging (logs each telemetry to debug level)
    # Can be overridden with RUUVI_DUCKDB_DEBUG_LOGGING env variable
    debug-logging = true
    debug-logging = ${?RUUVI_DUCKDB_DEBUG_LOGGING}
  }

  http {
    # API URL for the ruuvitag-api endpoint
    # Can be overridden with RUUVI_HTTP_API_URL env variable
    api-url = "http://localhost:8080/v1"
    api-url = ${?RUUVI_HTTP_API_URL}

    # Sensor name to use when posting telemetry
    # Can be overridden with RUUVI_HTTP_SENSOR_NAME env variable
    sensor-name = "default-sensor"
    sensor-name = ${?RUUVI_HTTP_SENSOR_NAME}

    # Enable debug logging (logs each telemetry to debug level)
    # Can be overridden with RUUVI_HTTP_DEBUG_LOGGING env variable
    debug-logging = true
    debug-logging = ${?RUUVI_HTTP_DEBUG_LOGGING}

    # HTTP request timeout in seconds
    # Can be overridden with RUUVI_HTTP_TIMEOUT_SECONDS env variable
    timeout-seconds = 30
    timeout-seconds = ${?RUUVI_HTTP_TIMEOUT_SECONDS}

    # Maximum number of retry attempts for failed requests
    # Can be overridden with RUUVI_HTTP_MAX_RETRIES env variable
    max-retries = 3
    max-retries = ${?RUUVI_HTTP_MAX_RETRIES}
  }
}
